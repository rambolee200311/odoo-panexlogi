<odoo>
    <data>
        <!-- Action -->
        <record id="action_transport_order" model="ir.actions.act_window">
            <field name="name">Transport Orders</field>
            <field name="res_model">panexlogi.transport.order</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create the first transport order
                </p>
            </field>
        </record>
        <!-- Email View -->
        <record id="email_template_transport_order" model="mail.template">
            <field name="name">Transport Order Email</field>
            <field name="model_id" ref="panexLogi.model_panexlogi_transport_order"/>
            <field name="subject">Transport Order</field>
            <field name="email_from">{{ user.email_formatted }}</field>
            <field name="email_to">{{ object.truckco.email }}</field>
            <field name="body_html" type="html">
                <div>
                    Dear <t t-out="object.truckco.name or ''">  </t>,<br/><br/>
                    please collect from: <t t-out="object.collterminal.terminal_name or ''">  </t><br/><br/>
                </div>
                <div>
                    <table border="1" cellpadding="5" cellspacing="0" width="100%">
                        <tr>
                            <th>container no</th>
                            <th>collect date</th>
                            <th>unload warehouse</th>
                           <!-- <th>unload location</th>-->
                            <th>drop off</th>
                        </tr>
                        <t t-foreach="object.transportorderdetailids" t-as="item">
                            <tr>
                                <td><t t-esc="item.cntrno"/></td>
                                <td><t t-esc="item.coldate"/></td>
                                <td><t t-esc="item.warehouse_code"/><!--</td>
                                <td>--><t t-esc="item.unlolocation"/></td>
                                <td><t t-esc="item.dropterminal_code"/></td>
                            </tr>
                        </t>
                    </table>
                </div>
                <div>
                    <br/>Best Regards<br/><br/>
                    <t t-out="user.name or ''">   </t><br/><br/>
                    <img t-attf-src="/logo.png?company={{ user.company_id.id }}" style="padding: 0px; margin: 0px; height: 48px;" t-att-alt="user.company_id.name"/>

                </div>
            </field>
        </record>

        <!-- Form View -->
        <record id="view_transport_order_form" model="ir.ui.view">
            <field name="name">transport.order.form</field>
            <field name="model">panexlogi.transport.order</field>
            <field name="arch" type="xml">
                <form string="Transport Order">
                    <header>
                         <button name="action_confirm_order"
                                type="object"
                                string="Confirm"
                                invisible="state == 'confirm' or state == 'cancel'"
                                class="btn-danger"/>
                         <button name="action_unconfirm_order"
                                type="object"
                                string="Unconfirm"
                                invisible="state == 'new' or state == 'cancel'"
                                class="btn-primary"/>
                         <button name="action_cancel_order"
                                type="object"
                                string="Cancel"
                                invisible="state == 'confirm' or state == 'cancel'"
                                class="btn-warning"/>
                         <field
                                name="state"
                                widget="statusbar"
                                statusbar_visible="new,confirm"/>
                         <widget name="web_ribbon" title="CANCEL" bg_color="bg-danger" invisible="state!='cancel'"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="add_actual_date"
                                        type="object"
                                        string="Arrived"
                                        class="oe_stat_button" icon="fa-truck"/>
                            <button name="action_send_email"
                                        type="object"
                                        string="Send Email"
                                        class="oe_stat_button" icon="fa-send"/>
                            <button name="action_create_inbound_order"
                                        type="object"
                                        string="Create Inbound Order"
                                        class="oe_stat_button" icon="fa-building"/>
                        </div>
                        <div class="oe_title">
                            <h1>
                                Transport Order
                            </h1>
                            <h2>
                                <field name="billno"/>
                            </h2>
                        </div>
                        <group string="Main" col="2" >
                            <group>
                                <field name="date" readonly="state!='new'"/>
                                <field name="issue_date" readonly="state!='new'"/>
                                <field name="project"/>
                                <field name="adr" readonly="state!='new'"/>
                            </group>
                            <group>
                                <field name="waybill_billno" readonly="True"/>
                                <field name="waybillno" readonly="state!='new'"/>
                            </group>
                        </group>
                        <group col="2">
                            <group string="Truck" col="2">
                                <field name="truckco" readonly="state!='new'"/>
                                <field name="truckco_code" readonly="state!='new'"/>
                                <field name="cargodesc" readonly="state!='new'"/>
                            </group>
                            <group col="2">
                                <field name="special_instructions" readonly="state!='new'"/>
                                <field name="additional_comments" readonly="state!='new'"/>
                                <field name="remark"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Container Details">
                                <field name="transportorderdetailids" readonly="state!='new'">
                                    <!--<tree  readonly="state!='new'" >
                                        <field name="cntrno" readonly="state!='new'"/>
                                        <field name="pallets" readonly="state!='new'"/>
                                        <field name="uncode" readonly="state!='new'"/>
                                        <field name="remark" readonly="state!='new'"/>
                                        <field name="coldate" readonly="state!='new'"/>
                                        <field name="warehouse" readonly="state!='new'"/>
                                        <field name="warehouse_code" readonly="state!='new'"/>
                                        <field name="unlolocation" readonly="state!='new'"/>
                                        <field name="unlodate" readonly="state!='new'"/>
                                        <field name="dropterminal" readonly="state!='new'"/>
                                        <field name="dropterminal_code" readonly="state!='new'"/>
                                        <field name="drop_off_planned_date" readonly="state!='new'"/>
                                        <field name="state" readonly="True"/>
                                        <field name="arrived_date" readonly="True"/>
                                        <field name="cmr_file" filename="cmr_filename" readonly="False"/>
                                        <field name="cmr_filename" invisible="True"/>
                                    </tree> -->
                                </field>
                            </page>
                            <page string="Location">
                                <group col="2">
                                    <group>
                                        <field name="collterminal" readonly="state!='new'"/>
                                        <field name="collterminal_code" readonly="state!='new'"/>
                                        <field name="coldate" readonly="state!='new'"/>
                                        <field name="warehouse" readonly="state!='new'"/>
                                        <field name="warehouse_code" readonly="state!='new'"/>
                                    </group>
                                    <group>
                                        <field name="unlolocation" readonly="state!='new'"/>
                                        <field name="unlodate" readonly="state!='new'"/>
                                        <field name="dropterminal" readonly="state!='new'"/>
                                        <field name="dropterminal_code" readonly="state!='new'"/>
                                        <field name="drop_off_planned_date" readonly="state!='new'"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Other Documents">
                                <field name="transportorderotherdocs_ids"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" />
                        <field name="activity_ids" widget="mail_activity" />
                        <field name="message_ids" widget="mail_thread" />
                    </div>
                </form>
            </field>
        </record>

        <!-- Tree View -->
        <record id="view_transport_order_tree" model="ir.ui.view">
            <field name="name">transport.order.tree</field>
            <field name="model">panexlogi.transport.order</field>
            <field name="arch" type="xml">
                <tree string="Transport_Orders"
                      decoration-success="state=='confirm'" decoration-info="state=='new'"  decoration-danger="state=='cancel'"
                    limit="50">
                    <field name="billno" optional="show"/>
                    <field name="date" optional="show"/>
                    <field name="issue_date"/>
                    <field name="waybill_billno" optional="show"/>
                    <field name="project"/>
                    <field name="waybillno" optional="show"/>
                    <field name="truckco" optional="show"/>
                    <field name="cargodesc" optional="show"/>
                    <field name="state" optional="show"/>
                    <field name="collterminal" optional="show"/>
                    <field name="collterminal_code" optional="show"/>
                    <field name="coldate" optional="show"/>
                    <field name="warehouse" optional="show"/>
                    <field name="warehouse_code" optional="show"/>
                    <field name="unlolocation" optional="show"/>
                    <field name="unlodate" optional="show"/>
                    <field name="dropterminal" optional="show"/>
                    <field name="dropterminal_code" optional="show"/>
                    <field name="drop_off_planned_date" optional="show"/>
                </tree>
            </field>
        </record>

        <!-- Search View -->
        <record id="view_transport_order_search" model="ir.ui.view">
            <field name="name">transport.order.search</field>
            <field name="model">panexlogi.transport.order</field>
            <field name="arch" type="xml">
                <search string="Transport Orders">
                    <field name="billno"/>
                    <field name="date"/>
                    <field name="issue_date"/>
                    <field name="waybill_billno"/>
                    <field name="project"/>
                    <field name="waybillno"/>
                    <field name="truckco"/>
                    <field name="state"/>
                    <field name="collterminal"/>
                    <field name="collterminal_code"/>
                    <field name="coldate"/>
                    <field name="warehouse"/>
                    <field name="warehouse_code"/>
                    <field name="unlolocation"/>
                    <field name="unlodate"/>
                    <field name="dropterminal"/>
                    <field name="dropterminal_code"/>
                    <field name="drop_off_planned_date"/>
                    <filter string="MyOrders" name="filter_myorders" domain="[('create_uid', '=', uid)]"  context="{'default_type': 'myorders'}"/>
                </search>
            </field>
        </record>
        <!-- otherdoc tree View -->
        <record id="view_tree_transport_order_otherdocs" model="ir.ui.view">
            <field name="name">transport.order.otherdocs.tree</field>
            <field name="model">panexlogi.transport.order.otherdocs</field>
            <field name="arch" type="xml">
                <tree string="Other Documents">
                    <field name="description"/>
                    <field name="file"  filename="filename" widget="binary_filename"/>
                    <field name="filename" invisible="True"/>
                    <!--<field name="waybill_billno"/>-->
                </tree>
            </field>
        </record>

        <!-- otherdoc form View -->
        <record id="view_form_transport_order_otherdocs" model="ir.ui.view">
            <field name="name">transport.order.otherdocs.form</field>
            <field name="model">panexlogi.transport.order.otherdocs</field>
            <field name="arch" type="xml">
                <form string="Other Documents">
                    <sheet>
                        <group>
                            <field name="description"/>
                            <field name="file" filename="filename" widget="binary_filename"/>
                            <field name="filename" invisible="True"/>
                            <field name="billno"  readonly="True"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <!-- Arrival Wizard form-->
        <record id="view_transport_order_arrived_wizard_form" model="ir.ui.view">
            <field name="name">transport.order.arrived.wizard.form</field>
            <field name="model">panexlogi.transport.order.arrived.wizard</field>
            <field name="arch" type="xml">
                <form string="Transport Order Arrived">
                    <group>
                        <field name="arrived_date"/>
                        <field name="billno" context="{'default_billno': active_id}" readonly="True"/>
                        <field name="cntrnos" widget="many2many_tags" context="{'default_billno': active_id}"/>
                        <field name="cmr_file" filename="cmr_filename"/>
                        <field name="cmr_filename" invisible="True"/>
                    </group>
                    <footer>
                        <button string="Apply" type="object" name="apply_changes" class="btn-primary"/>
                        <button string="Cancel" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        <!-- Arrival Wizard action -->
        <record id="action_transport_order_arrived_wizard" model="ir.actions.act_window">
            <field name="name">Transport Order Arrived</field>
            <field name="res_model">panexlogi.transport.order.arrived.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{'active_id': active_id}</field>
        </record>
        <!-- transport order detail treee-->
        <record id="transport_order_detail_tree_view" model="ir.ui.view">
            <field name="name">panexlogi.transport.order.detail.tree</field>
            <field name="model">panexlogi.transport.order.detail</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="cntrno" string="Container NO"/>
                    <field name="pallets"/>
                    <field name="uncode" string="UN Code"/>
                    <field name="coldate" string="Collection Date"/>
                    <field name="warehouse" string="Warehouse"/>
                    <field name="unlolocation" string="Unload Location"/>
                    <field name="unlodate" string="Unload Date"/>
                    <field name="dropterminal" string="Drop-off Terminal"/>
                    <field name="drop_off_planned_date"/>
                    <field name="state" string="Status"/>
                    <field name="cmr_file" filename="cmr_filename"
                           string="CMR File"
                           widget="binary_filename"/>
                    <field name="cmr_filename" invisible="1"/>
                </tree>
            </field>
        </record>
        <!-- transport order detail form-->
        <record id="transport_order_detail_form_view" model="ir.ui.view">
            <field name="name">panexlogi.transport.order.detail.form</field>
            <field name="model">panexlogi.transport.order.detail</field>
            <field name="arch" type="xml">
                <form>
                    <head>
                        <field name="state"  widget="statusbar" statusbar_visible="new,arrived"/>
                    </head>
                    <sheet>
                        <group>
                            <group>
                                <field name="cntrno"/>
                                <field name="pallets"/>
                                <field name="uncode"/>
                                <field name="coldate"/>
                                <field name="warehouse"/>
                                <field name="warehouse_code" readonly="1"/>
                            </group>
                            <group>
                                <field name="unlolocation"/>
                                <field name="unlodate"/>
                                <field name="dropterminal"/>
                                <field name="dropterminal_code" readonly="1"/>
                                <field name="drop_off_planned_date"/>
                            </group>
                        </group>
                        <group>
                            <field name="special_instructions" widget="textarea"/>
                            <field name="additional_comments" widget="textarea"/>
                            <field name="remark" widget="textarea"/>
                        </group>
                        <group>
                            <field name="cmr_file" filename="cmr_filename"
                                   string="CMR File"
                                   widget="binary_filename"/>
                            <field name="arrived_date"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
    </data>
</odoo>